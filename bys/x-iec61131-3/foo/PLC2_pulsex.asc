(*SOFTCONTROL:        
  VERSION:7.04.01*)
PARAMETER_SECTION
	CPU_TYPE := FX1S
	VERSION := 1.00
	PARAM_FILE_PATH := H:\UV_03\pls\NTbackupade\ET1001_styrteknik_el_2012\Forelasningar\PLC2_el\test_av_exporterade\plc2_pulsex.wpa
	SYSTEM_VARIABLES
		WORD_TYPE := 0
		WORD_LOWER := 128
		WORD_UPPER := 255
		BIT_TYPE := 0
		BIT_LOWER := 256
		BIT_UPPER := 511
		TIMER_LOWER_100MS := 16
		TIMER_UPPER_100MS := 31
		COUNTER_LOWER := 16
		COUNTER_UPPER := 31
		LABEL_LOWER := 30
		LABEL_UPPER := 62
		STEP_FLAG_LOWER := 20
		STEP_FLAG_UPPER := 127
	END_SYSTEM_VARIABLES
	PROJECT_OPTIONS
		CG_OPTIONS
			GENRERATE_CODE_502 := 0
			SHOW_WARNING_CODING_502_600 := 1
			UseSetRstForToBool := 1
			UseSetRstForLimit := 1
			UseSetRstForNot := 1
			UseSetRstForCompare := 1
			UseSetRstForCpyBit := 1
			UseSetRstForAndOrXor := 1
			UseSetRstForUserFun := 1
			GenerateCodeAsInGID601 := 0
			ShowWarningCoding601_602 := 1
			UseUniqueTmpVarsInLdFbd := 1
			GenerateCodeAsInGID610 := 0
			ShowWarningCoding610_700 := 1
			GenerateCodeAsInGID700 := 0
			ShowWarningCoding700_710 := 1
			AllowOnlineChangeForInconsistentProjects := 0
			AllowResetVarAsTransition := 1
			GenerateFXSFCStartUp := 1
			GenerateCodeAsInGID701_702 := 0
			ShowWarningCoding701_702 := 1
			GenerateCodeAsInGID703 := 0
			ShowWarningCoding703 := 1
		END_CG_OPTIONS
		COMPILER_OPTIONS
			CreateTmpVarForPLS := 1
			CreateTmpVarForPLF := 1
			CreateTmpVarForALT := 1
			AllowFBCallWithVarOut := 0
			AllowUnassignedMacroFBInputs := 1
			AllowGlobalVariableHiding := 0
			AllowVariableWithLowerCaseMitsuDevNames := 0
		END_COMPILER_OPTIONS
		RD_OPTIONS
			ENABLE_RESET_DEVICES := 0
			ENABLE_RESET_LATCHED_DEVICES := 0
			ENABLE_D_DEVICES := 0
			ENABLE_M_DEVICES := 0
			ENABLE_T_DEVICES := 0
			ENABLE_C_DEVICES := 0
			ENABLE_S_DEVICES := 0
			ENABLE_ST_DEVICES := 0
		END_RD_OPTIONS
	END_PROJECT_OPTIONS
END_PARAMETER_SECTION

PROGRAM PRG_MAIN
(*Name:NONE
Author:GENERIC*)
(**)
'MELSEC_IL'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPEIL ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPEUSR1 ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 11 ;
        NETWORK_BODY
TABINFO   6,  12,  18,  24,  30,  36,  42,  48
LD	X001
AND	X002
OUT	M256
LDI	M256
OUT	Y000
LDI	M256
OUT	Y001
FEND	
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM puls_inv
(**)
(**)
'LD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPELD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 9 ;
        NETWORK_BODY
B(B_CONTACT,,X1,5,1,7,3,)[32988];
B(B_CONTACT,,X2,11,1,13,3,)[32988];
B(B_COIL,,Y0,18,1,20,3,N)[32988];
B(B_F,NOT,,16,4,21,7,,?D_IN?C)[32989];
B(B_VAROUT,,Y1,21,5,23,7,)[32988];
L(1,0,1,9);
L(1,2,5,2);
L(7,2,11,2);
L(13,2,18,2);
L(14,2,14,5);
L(14,5,14,6);
L(14,6,16,6);
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM puls_ld
(**)
(**)
	VAR_EXTERNAL 
		BTN_KGSG: BOOL:=FALSE;
		LEDDG_GUL: BOOL:=FALSE;
	END_VAR
'LD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPELD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_F,LDP_M,,15,0,21,4,,?DEN?D@'s'?AENO)[32988];
B(B_VARIN,,TRUE,10,1,12,3,)[32988];
B(B_COIL,,LEDDG_GUL,24,1,26,3,)[32989];
B(B_CONTACT,,BTN_KGSG,3,2,5,4,)[32989];
L(1,0,1,4);
L(12,2,15,2);
L(21,2,24,2);
L(1,3,3,3);
L(5,3,10,3);
L(10,3,15,3);
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM puls_mc
(**)
(**)
'LD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPELD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_F,MC_M,,13,0,18,4,,?DEN?Hn?AENO?Cd)[32988];
B(B_CONTACT,,X1,6,1,8,3,)[32988];
B(B_VARIN,,0,11,2,13,4,)[32988];
B(B_VAROUT,,M10,18,2,20,4,)[32988];
L(1,0,1,4);
L(1,2,6,2);
L(8,2,13,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_CONTACT,,X2,6,1,8,3,)[32988];
B(B_COIL,,Y3,14,1,16,3,)[32988];
L(1,0,1,4);
L(1,2,6,2);
L(8,2,14,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_CONTACT,,X3,6,1,8,3,)[32988];
B(B_COIL,,Y4,14,1,16,3,)[32988];
L(1,0,1,4);
L(1,2,6,2);
L(8,2,14,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_F,MCR_M,,13,0,19,4,,?DEN?Hn?AENO)[32988];
B(B_VARIN,,0,11,2,13,4,)[32989];
L(1,0,1,4);
L(1,2,13,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_CONTACT,,X2,6,1,8,3,)[32988];
B(B_CONTACT,,X4,12,1,14,3,)[32988];
B(B_COIL,,M155,18,1,20,3,)[32988];
L(1,0,1,4);
L(1,2,6,2);
L(8,2,12,2);
L(14,2,18,2);
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM puls_p
(**)
(**)
	VAR_EXTERNAL 
		LEDDG_GUL: BOOL:=FALSE;
		BTN_KGSG: BOOL:=FALSE;
	END_VAR
'FBD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPEFBD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPEFBD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 10 ;
        NETWORK_BODY
B(B_F,LDP_M,,11,0,17,4,,?DEN?D@'s'?AENO)[32988];
B(B_VARIN,,TRUE,9,1,11,3,)[32988];
B(B_VAROUT,,LEDDG_GUL,17,1,19,3,)[32988];
B(B_VARIN,,BTN_KGSG,9,2,11,4,)[32988];
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM puls_ut
(**)
(**)
'LD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPELD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_F,PLS_M,,12,0,18,4,,?DEN?AENO?Cd)[32988];
B(B_CONTACT,,X0,5,1,7,3,)[32988];
B(B_VAROUT,,M0,18,2,20,4,)[32988];
L(1,0,1,4);
L(1,2,5,2);
L(7,2,12,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_CONTACT,,M0,5,1,7,3,)[32988];
B(B_COIL,,Y0,14,1,16,3,S)[32988];
L(1,0,1,4);
L(1,2,5,2);
L(7,2,14,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_F,PLF_M,,12,0,18,4,,?DEN?AENO?Cd)[32988];
B(B_CONTACT,,X1,5,1,7,3,)[32988];
B(B_VAROUT,,M1,18,2,20,4,)[32988];
L(1,0,1,4);
L(1,2,5,2);
L(7,2,12,2);
        END_NETWORK_BODY
    END_NET_WORK
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
B(B_CONTACT,,M1,5,1,7,3,)[32988];
B(B_COIL,,Y0,14,1,16,3,E)[32988];
L(1,0,1,4);
L(1,2,5,2);
L(7,2,14,2);
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM pulsare
(**)
(**)
	VAR_EXTERNAL 
		LEDDG_RED: BOOL:=FALSE;
		BTN_DGVG: BOOL:=FALSE;
	END_VAR
'MELSEC_IL'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPEIL ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPEUSR1 ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
TABINFO   6,  12,  18,  24,  30,  36,  42,  48
LDP	BTN_DGVG
OUT	LEDDG_RED
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM pulsil
(**)
(**)
'IL'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPEIL ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPEIL ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 4 ;
        NETWORK_BODY
TABINFO   6,  12,  18,  24,  30,  36,  42,  48
LDP	X0
St	Y0
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

PROGRAM stack_ex
(**)
(**)
	VAR_EXTERNAL 
		LEDDG_RED: BOOL:=FALSE;
		BTN_KGSG: BOOL:=FALSE;
		LEDDG_GUL: BOOL:=FALSE;
		BTN_KGNG: BOOL:=FALSE;
		LEDDG_GREEN: BOOL:=FALSE;
		BTN_DGVG: BOOL:=FALSE;
		BTN_DGOG: BOOL:=FALSE;
	END_VAR
'LD'
BODY
    WORKSPACE
        NETWORK_LIST_TYPE := NWTYPELD ;
        ACTIVE_NETWORK := 0 ;
    END_WORKSPACE
    NET_WORK
        NETWORK_TYPE := NWTYPELD ;
        NETWORK_LABEL :=  ;
        NETWORK_TITLE :=  ;
        NETWORK_HEIGHT := 14 ;
        NETWORK_BODY
B(B_CONTACT,,BTN_DGOG,4,1,6,3,)[32988];
B(B_CONTACT,,BTN_DGVG,12,1,14,3,)[32988];
B(B_COIL,,LEDDG_GREEN,20,1,22,3,)[32988];
B(B_CONTACT,,BTN_KGNG,12,4,14,6,)[32988];
B(B_COIL,,LEDDG_GUL,20,4,22,6,)[32988];
B(B_CONTACT,,BTN_KGSG,12,7,14,9,)[32988];
B(B_COIL,,LEDDG_RED,20,7,22,9,)[32988];
L(1,0,1,14);
L(1,2,4,2);
L(6,2,12,2);
L(9,2,9,5);
L(14,2,19,2);
L(19,2,20,2);
L(9,5,12,5);
L(9,5,9,8);
L(14,5,20,5);
L(9,8,12,8);
L(14,8,20,8);
        END_NETWORK_BODY
    END_NET_WORK
END_BODY
END_PROGRAM

CONFIGURATION scConfiguration
	RESOURCE scResource ON scResourceType

		VAR_GLOBAL 
			SW_DGV AT %IX0: BOOL:=FALSE;
			SW_DGO AT %IX1: BOOL:=FALSE;
			SW_KGS AT %IX2: BOOL:=FALSE;
			SW_KGN AT %IX3: BOOL:=FALSE;
			BTN_DGOG AT %IX4: BOOL:=FALSE;
			BTN_DGVG AT %IX5: BOOL:=FALSE;
			BTN_KGSG AT %IX6: BOOL:=FALSE;
			BTN_KGNG AT %IX7: BOOL:=FALSE;
			LEDKG_RED AT %QX0: BOOL:=FALSE;
			LEDKG_GUL AT %QX1: BOOL:=FALSE;
			LEDKG_GREEN AT %QX2: BOOL:=FALSE;
			LEDDG_RED AT %QX3: BOOL:=FALSE;
			LEDDG_GUL AT %QX4: BOOL:=FALSE;
			LEDDG_GREEN AT %QX5: BOOL:=FALSE;
		END_VAR

		TASK
			(*CJ*)
			MELSEC_MAIN(SINGLE:=TRUE, INTERVAL:=0, PRIORITY:=31)
		TASK
			pulsx(SINGLE:=TRUE, INTERVAL:=0, PRIORITY:=31)

		PROGRAM PRG_MAIN WITH MELSEC_MAIN: scProgramType
		PROGRAM puls_inv WITH pulsx: scProgramType

	END_RESOURCE
END_CONFIGURATION
